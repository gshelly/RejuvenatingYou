{"ast":null,"code":"var _jsxFileName = \"/Users/shellygupta/Desktop/Algorithms/Group/client/src/views/Main.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col, Container, Button, Form } from \"react-bootstrap\";\nimport ChartPie from \"../components/ChartPie\";\nimport AccordionTable from \"../components/AccordionTable\";\nimport BarChart from \"../components/BarChart\";\nimport { Paper } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport \"../views/AddFood/styles.css\";\nimport { KeyboardDatePicker, MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Main(props) {\n  _s();\n\n  const [dailyWeight, setDailyWeight] = useState(0);\n  const [userData, setUserData] = useState();\n  const [weights, setWeights] = useState([]);\n  const [foodData, setFoodData] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  const [selectedDate, handleDateChange] = useState(new Date());\n\n  const getTodayMeal = () => {\n    let dateofToday = new Date().toISOString().split(\"T\")[0];\n    console.log(dateofToday);\n    console.log(selectedDate);\n\n    if (selectedDate.toISOString().split(\"T\")[0] !== dateofToday) {\n      dateofToday = selectedDate.toISOString().split(\"T\")[0];\n    }\n\n    console.log(dateofToday); // console.log(date);\n\n    axios.get(\"http://localhost:8000/api/meal/\" + dateofToday, {\n      withCredentials: true\n    }).then(res => {\n      // console.log(\"this ran\")\n      setFoodData(res.data);\n    }).catch(err => console.log(err.response));\n  };\n\n  useEffect(() => {\n    axios.get(\"http://localhost:8000/api/users/getOne\", {\n      withCredentials: true\n    }).then(response => {\n      setUserData(response.data);\n      setWeights(response.data.weights);\n      getTodayMeal();\n      console.log(\"ran\");\n      setLoaded(true);\n    }).catch(error => console.log(\"error\", error.response));\n  }, []);\n\n  const submitHandler = e => {\n    e.preventDefault();\n    let newWeights = [...weights, Number(dailyWeight)];\n    setWeights(newWeights);\n    axios.put(\"http://localhost:8000/api/users/update\", {\n      weights: newWeights\n    }, {\n      withCredentials: true\n    }).then(res => console.log(res.data)).catch(err => console.log(err.response));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: \"radial-gradient(circle, #e9e3e3 50%, #e4d882 100%)\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"MainbackImage\",\n      style: {},\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: \"4em\",\n          fontWeight: \"bolder\",\n          padding: \"100px 70px 0px 70px\",\n          width: \"700px\"\n        },\n        children: \"Fitness starts with rejuvenating yourself.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          width: \"600px\",\n          padding: \"0px 70px\"\n        },\n        children: \"Take control of your goals. Track calories, break down ingredients, and log activities with Rejuvenating You.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), loaded && /*#__PURE__*/_jsxDEV(Container, {\n        style: {\n          marginTop: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"py-5\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 4,\n            children: /*#__PURE__*/_jsxDEV(ChartPie, {\n              foodData: foodData,\n              weights: weights,\n              initialWeight: userData.initialWeight,\n              activityLevel: userData.activityLevel,\n              age: userData.age,\n              height: userData.height\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"py-1\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            md: 1,\n            className: \"py-1\",\n            style: {\n              width: \"440px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n              utils: DateFnsUtils,\n              children: /*#__PURE__*/_jsxDEV(KeyboardDatePicker, {\n                style: {\n                  borderColor: \"#d09c9e\"\n                },\n                autoOk: true,\n                variant: \"inline\",\n                inputVariant: \"outlined\",\n                label: \"\",\n                format: \"MM/dd/yyyy\",\n                value: selectedDate,\n                InputAdornmentProps: {\n                  position: \"start\"\n                },\n                onChange: date => {\n                  handleDateChange(date);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-class \",\n              onClick: e => {\n                e.preventDefault();\n                getTodayMeal();\n              },\n              children: \"Go!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), loaded && /*#__PURE__*/_jsxDEV(Container, {\n      style: {\n        marginTop: \"-40px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"py-5\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          md: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 8,\n          className: \"py-5\",\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            elevation: 24,\n            children: /*#__PURE__*/_jsxDEV(AccordionTable, {\n              foodData: foodData,\n              userData: userData,\n              setUserData: setUserData,\n              getTodayMeal: getTodayMeal\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: submitHandler,\n          className: \"d-flex\",\n          style: {\n            marginTop: \"80px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            name: \"q\",\n            onChange: e => setDailyWeight(e.target.value),\n            placeholder: \"Input your daily weight\",\n            className: \"sm-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\" // variant=\"btn btn-dark\"\n            ,\n            style: {\n              marginLeft: \"10px\",\n              backgroundColor: \"#a882e4\"\n            },\n            children: \"Record Weight\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          md: 10,\n          children: /*#__PURE__*/_jsxDEV(BarChart, {\n            weights: weights,\n            initialWeight: userData.initialWeight\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Main, \"wVW0YUjaNk/om0sk0FgLBW3xhOE=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["/Users/shellygupta/Desktop/Algorithms/Group/client/src/views/Main.js"],"names":["React","Fragment","useState","useEffect","Link","Row","Col","Container","Button","Form","ChartPie","AccordionTable","BarChart","Paper","axios","KeyboardDatePicker","MuiPickersUtilsProvider","DateFnsUtils","Main","props","dailyWeight","setDailyWeight","userData","setUserData","weights","setWeights","foodData","setFoodData","loaded","setLoaded","selectedDate","handleDateChange","Date","getTodayMeal","dateofToday","toISOString","split","console","log","get","withCredentials","then","res","data","catch","err","response","error","submitHandler","e","preventDefault","newWeights","Number","put","background","fontSize","fontWeight","padding","width","marginTop","initialWeight","activityLevel","age","height","borderColor","position","date","target","value","marginLeft","backgroundColor"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Row, Col, Container, Button, Form } from \"react-bootstrap\";\nimport ChartPie from \"../components/ChartPie\";\nimport AccordionTable from \"../components/AccordionTable\";\nimport BarChart from \"../components/BarChart\";\nimport { Paper } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport \"../App.css\";\nimport \"../views/AddFood/styles.css\"\nimport {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\n\nfunction Main(props) {\n  const [dailyWeight, setDailyWeight] = useState(0);\n  const [userData, setUserData] = useState();\n  const [weights, setWeights] = useState([]);\n  const [foodData, setFoodData] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  const [selectedDate, handleDateChange] = useState(new Date());\n\n  const getTodayMeal = () => {\n    let dateofToday = new Date().toISOString().split(\"T\")[0];\n    console.log(dateofToday);\n    console.log(selectedDate);\n    if (selectedDate.toISOString().split(\"T\")[0] !== dateofToday) {\n      dateofToday = selectedDate.toISOString().split(\"T\")[0];\n    }\n    console.log(dateofToday);\n    // console.log(date);\n    axios\n      .get(\"http://localhost:8000/api/meal/\" + dateofToday, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        // console.log(\"this ran\")\n        setFoodData(res.data);\n      })\n      .catch((err) => console.log(err.response));\n  };\n\n  useEffect(() => {\n    axios\n      .get(\"http://localhost:8000/api/users/getOne\", {\n        withCredentials: true,\n      })\n      .then((response) => {\n        setUserData(response.data);\n        setWeights(response.data.weights);\n        getTodayMeal();\n        console.log(\"ran\");\n        setLoaded(true);\n      })\n      .catch((error) => console.log(\"error\", error.response));\n  }, []);\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    let newWeights = [...weights, Number(dailyWeight)];\n    setWeights(newWeights);\n    axios\n      .put(\n        \"http://localhost:8000/api/users/update\",\n        { weights: newWeights },\n        { withCredentials: true }\n      )\n      .then((res) => console.log(res.data))\n      .catch((err) => console.log(err.response));\n  };\n\n  return (\n    <div\n      style={{\n        background: \"radial-gradient(circle, #e9e3e3 50%, #e4d882 100%)\",\n      }}\n    >\n      <div id=\"MainbackImage\" style={{}}>\n        <h1\n          style={{\n            fontSize: \"4em\",\n            fontWeight: \"bolder\",\n            padding: \"100px 70px 0px 70px\",\n            width: \"700px\",\n          }}\n        >\n          Fitness starts with rejuvenating yourself.\n        </h1>\n        <p\n          style={{\n            width: \"600px\",\n            padding: \"0px 70px\",\n          }}\n        >\n          Take control of your goals. Track calories, break down ingredients,\n          and log activities with Rejuvenating You.\n        </p>\n        \n        {loaded && (\n          <Container style={{ marginTop: \"20px\" }}>\n            <Row className=\"py-5\">\n              <Col md={4}>\n                <ChartPie\n                  foodData={foodData}\n                  weights={weights}\n                  initialWeight={userData.initialWeight}\n                  activityLevel={userData.activityLevel}\n                  age={userData.age}\n                  height={userData.height}\n                />\n              </Col>\n            </Row>\n            <Row className=\"py-1\">\n            <Col md={1} className=\"py-1\" style={{ width: \"440px\" }}>\n                <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                  <KeyboardDatePicker\n                    style={{borderColor:\"#d09c9e\"}}\n                    autoOk\n                    variant=\"inline\"\n                    inputVariant=\"outlined\"\n                    label=\"\"\n                    format=\"MM/dd/yyyy\"\n                    value={selectedDate}\n                    InputAdornmentProps={{ position: \"start\" }}\n                    onChange={(date) => {\n                      handleDateChange(date);\n                    }}\n                  />\n                </MuiPickersUtilsProvider>\n                <button className=\"button-class \"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    getTodayMeal();\n                  }}\n                >\n                  Go!\n                </button>\n              </Col>\n              </Row>\n          </Container>\n        )}\n      </div>\n      {loaded && (\n        <Container style={{ marginTop: \"-40px\" }}>\n          <Row className=\"py-5\">\n            <Col md={4}></Col>\n            <Col md={8} className=\"py-5\">\n              <Paper elevation={24}>\n                <AccordionTable\n                  foodData={foodData}\n                  userData={userData}\n                  setUserData={setUserData}\n                  getTodayMeal={getTodayMeal}\n                />\n              </Paper>\n            </Col>\n            <Form\n              onSubmit={submitHandler}\n              className=\"d-flex\"\n              style={{ marginTop: \"80px\" }}\n            >\n              \n              <Form.Control\n                type=\"text\"\n                name=\"q\"\n                onChange={(e) => setDailyWeight(e.target.value)}\n                placeholder=\"Input your daily weight\"\n                className=\"sm-1\"\n              ></Form.Control>\n\n              <Button\n                type=\"submit\"\n                // variant=\"btn btn-dark\"\n                style={{ marginLeft: \"10px\", backgroundColor: \"#a882e4\" }}\n              >\n                Record Weight\n              </Button>\n            </Form>\n            <br />\n            <br />\n            <br />\n            <Col md={10}>\n              <BarChart\n                weights={weights}\n                initialWeight={userData.initialWeight}\n              />\n            </Col>\n          </Row>\n        </Container>\n      )}\n    </div>\n  );\n}\n\nexport default Main;\n"]},"metadata":{},"sourceType":"module"}