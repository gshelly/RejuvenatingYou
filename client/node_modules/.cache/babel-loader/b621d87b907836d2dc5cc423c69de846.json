{"ast":null,"code":"var _jsxFileName = \"/Users/shellygupta/Desktop/Algorithms/Group/client/src/components/DisplayFood.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell, { tableCellClasses } from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { styled } from '@mui/material/styles';\nimport axios from 'axios';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport \"../views/AddFood/styles.css\";\nimport { useHistory } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledTableCell = styled(TableCell)(({\n  theme\n}) => ({\n  [`&.${tableCellClasses.head}`]: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white\n  },\n  [`&.${tableCellClasses.body}`]: {\n    fontSize: 14\n  }\n}));\nconst StyledTableRow = styled(TableRow)(({\n  theme\n}) => ({\n  '&:nth-of-type(odd)': {\n    backgroundColor: theme.palette.action.hover\n  },\n  // hide last border\n  '&:last-child td, &:last-child th': {\n    border: 0\n  }\n}));\nexport default function DisplayFood(props) {\n  _s();\n\n  const userId = localStorage.getItem(\"userId\");\n  const [displayFoodList, setFoodList] = useState([]);\n  const {\n    dummy\n  } = props;\n  const [userData, setUserData] = useState({});\n  let history = useHistory();\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/foods/findAll', {\n      withCredentials: true\n    }).then(response => {\n      setFoodList(response.data);\n      console.log(\"data\", response.data);\n    }).catch(error => console.log(error));\n    axios.get(\"http://localhost:8000/api/users/getOne\", {\n      withCredentials: true\n    }).then(response => {\n      setUserData(response.data);\n    }).catch(error => console.log(\"error\", error.response));\n  }, [userId, dummy]);\n\n  const handleDelete = food => {\n    axios.delete(\"http://localhost:8000/api/foods/delete/\" + food._id, {\n      withCredentials: true\n    }).then(response => {\n      console.log(\"delete\", response.data);\n      props.setDummy(!dummy);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const handleEdit = food => {\n    props.setIsEdit(true);\n    props.setEditFood(food);\n  };\n\n  const testing = (food, mealType) => {\n    console.log(food._id);\n    axios.put(\"http://localhost:8000/api/user/addtomeal/\" + food._id + \"/\" + mealType, userData, {\n      withCredentials: true\n    }).then(res => {\n      console.log(res.data);\n      history.push('/');\n    }).catch(err => {\n      console.log(err.response.data);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    style: {\n      margin: \"30px auto\",\n      width: \"60%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      \"aria-label\": \"simple table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            children: \"Food Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: \"Fat\\xA0(g)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: \"Protein\\xA0(g)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: \"Carbs\\xA0(g)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"center\",\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: displayFoodList.length <= 0 ? /*#__PURE__*/_jsxDEV(TableCell, {\n          colSpan: 6,\n          style: {\n            textAlign: \"center\",\n            fontSize: \"1rem\"\n          },\n          children: \" You Have not added meal yet\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this) : displayFoodList.map((food, index) => /*#__PURE__*/_jsxDEV(StyledTableRow, {\n          sx: {\n            '&:last-child td, &:last-child th': {\n              border: 0\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n            component: \"th\",\n            scope: \"row\",\n            children: food.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: food.fat\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: food.protein\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: food.carb\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-class\",\n              onClick: () => testing(food, \"breakfast\"),\n              children: \"Breakfast\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-class\",\n              onClick: () => testing(food, \"lunch\"),\n              children: \"Lunch\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button-class\",\n              onClick: () => testing(food, \"dinner\"),\n              children: \"Dinner\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(CreateIcon, {\n              className: \"icons\",\n              style: {\n                marginLeft: \"20px\"\n              },\n              onClick: () => handleEdit(food)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n            align: \"right\",\n            children: /*#__PURE__*/_jsxDEV(DeleteForeverIcon, {\n              className: \"icons\",\n              onClick: () => handleDelete(food)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 98,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DisplayFood, \"GI4N+M9A2DG58gm6rFozFgGss3A=\", false, function () {\n  return [useHistory];\n});\n\n_c = DisplayFood;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayFood\");","map":{"version":3,"sources":["/Users/shellygupta/Desktop/Algorithms/Group/client/src/components/DisplayFood.js"],"names":["React","useEffect","useState","Table","TableBody","TableCell","tableCellClasses","TableContainer","TableHead","TableRow","Paper","styled","axios","CreateIcon","DeleteForeverIcon","useHistory","StyledTableCell","theme","head","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","action","hover","border","DisplayFood","props","userId","localStorage","getItem","displayFoodList","setFoodList","dummy","userData","setUserData","history","get","withCredentials","then","response","data","console","log","catch","error","handleDelete","food","delete","_id","setDummy","err","handleEdit","setIsEdit","setEditFood","testing","mealType","put","res","push","margin","width","length","textAlign","map","index","name","fat","protein","carb","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell, { tableCellClasses } from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { styled } from '@mui/material/styles';\nimport axios from 'axios';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport \"../views/AddFood/styles.css\"\nimport { useHistory } from 'react-router-dom'\n\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\n  [`&.${tableCellClasses.head}`]: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n  },\n  [`&.${tableCellClasses.body}`]: {\n    fontSize: 14,\n  },\n}));\n\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\n  '&:nth-of-type(odd)': {\n    backgroundColor: theme.palette.action.hover,\n  },\n  // hide last border\n  '&:last-child td, &:last-child th': {\n    border: 0,\n  },\n}));\n\nexport default function DisplayFood(props) {\n  const userId = localStorage.getItem(\"userId\")\n  const [displayFoodList, setFoodList] = useState([])\n  const { dummy } = props\n  const [userData, setUserData] = useState({});\n  let history = useHistory()\n\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/foods/findAll', {\n      withCredentials: true\n    })\n      .then(response => {\n        setFoodList(response.data)\n        console.log(\"data\", response.data);\n      })\n      .catch(error => console.log(error))\n\n      axios.get(\"http://localhost:8000/api/users/getOne\", {\n        withCredentials: true,\n      })\n      .then((response) => {\n        setUserData(response.data);\n      })\n      .catch((error) => console.log(\"error\", error.response));\n  }, [userId, dummy])\n\n  const handleDelete = (food) => {\n    axios\n      .delete(\"http://localhost:8000/api/foods/delete/\" + food._id, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"delete\", response.data);\n        props.setDummy(!dummy);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const handleEdit = (food) => {\n    props.setIsEdit(true)\n    props.setEditFood(food)\n  }\n\n  const testing = (food, mealType) => {\n    console.log(food._id);\n    axios\n      .put(\n        \"http://localhost:8000/api/user/addtomeal/\" + food._id + \"/\" + mealType,\n        userData,\n        { withCredentials: true }\n      )\n      .then((res) => {\n        console.log(res.data);\n        history.push('/')\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n  };\n\n  return (\n    <TableContainer component={Paper} style={{ margin:\"30px auto\", width: \"60%\"}}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>Food Name</StyledTableCell>\n            <StyledTableCell align=\"right\">Fat&nbsp;(g)</StyledTableCell>\n            <StyledTableCell align=\"right\">Protein&nbsp;(g)</StyledTableCell>\n            <StyledTableCell align=\"right\">Carbs&nbsp;(g)</StyledTableCell>\n            <StyledTableCell align=\"center\">Add</StyledTableCell>\n            <StyledTableCell align=\"right\">Edit</StyledTableCell>\n            <StyledTableCell align=\"right\">Delete</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {displayFoodList.length <= 0 ?\n          <TableCell colSpan={6} style={{textAlign:\"center\", fontSize:\"1rem\"}}> You Have not added meal yet</TableCell>\n          :\n          displayFoodList.map((food, index) => (\n            <StyledTableRow\n              key={index}\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n            >\n              <StyledTableCell component=\"th\" scope=\"row\">\n                {food.name}\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">{food.fat}</StyledTableCell>\n              <StyledTableCell align=\"right\">{food.protein}</StyledTableCell>\n              <StyledTableCell align=\"right\">{food.carb}</StyledTableCell>\n              <StyledTableCell align=\"right\" >\n              <button className=\"button-class\" onClick={() => testing(food, \"breakfast\")}>Breakfast</button>\n              <button className=\"button-class\" onClick={() => testing(food, \"lunch\")}>Lunch</button>\n              <button className=\"button-class\" onClick={() => testing(food, \"dinner\")}>Dinner</button>\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">\n                <CreateIcon className=\"icons\" style={{ marginLeft: \"20px\" }} onClick={() => handleEdit(food)} />\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">\n                <DeleteForeverIcon className=\"icons\" onClick={() => handleDelete(food)} />\n              </StyledTableCell>\n            </StyledTableRow>\n          ))\n        }\n          \n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}