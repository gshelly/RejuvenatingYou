{"ast":null,"code":"var _jsxFileName = \"/Users/shellygupta/Desktop/Algorithms/Group/client/src/components/LoginForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useHistory } from 'react-router-dom';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: \"70vh\",\n    backgroundColor: \"white\",\n    margin: '20px auto',\n    opacity: \"0.6\"\n  },\n  paper: {\n    marginTop: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(2),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: \"black\",\n    color: \"white\",\n    '&:hover': {\n      backgroundColor: '#a01217',\n      color: 'black'\n    }\n  }\n}));\n\nfunction LoginForm(props) {\n  _s();\n\n  const classes = useStyles();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const [passErr, setPassErr] = useState(\"\");\n  let history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setErr(\"\");\n    const postData = {\n      username,\n      password\n    };\n    axios.post(\"http://localhost:8000/api/users/login\", postData, {\n      withCredentials: true\n    }).then(response => {\n      localStorage.setItem(\"userName\", response.data.username);\n      localStorage.setItem(\"userId\", response.data._id);\n      history.push('/main');\n      window.location.reload();\n    }).catch(error => {\n      if (error.response.status === 402) {\n        setErr(error.response.data.message);\n        setPassErr(\"\");\n      } else if (error.response.status === 403) {\n        setPassErr(error.response.data.message);\n        setErr(\"\");\n      }\n\n      console.log(error.response);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(CssBaseline, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.paper,\n      children: [/*#__PURE__*/_jsxDEV(Avatar, {\n        className: classes.avatar,\n        children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        component: \"h1\",\n        variant: \"h5\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: classes.form,\n        noValidate: true,\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          id: \"username\",\n          label: \"User Name\",\n          name: \"username\",\n          autoComplete: \"username\",\n          onChange: e => setUsername(e.target.value),\n          error: err ? true : false,\n          helperText: err,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          variant: \"outlined\",\n          margin: \"normal\",\n          required: true,\n          fullWidth: true,\n          name: \"password\",\n          label: \"Password\",\n          type: \"password\",\n          id: \"password\",\n          autoComplete: \"current-password\",\n          onChange: e => setPassword(e.target.value),\n          error: passErr ? true : false,\n          helperText: passErr\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          fullWidth: true,\n          variant: \"contained\",\n          color: \"primary\",\n          className: classes.submit,\n          onClick: handleSubmit,\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginForm, \"p45v89k5JIoI9+5G9rEdnEBnwcc=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = LoginForm;\nexport default LoginForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginForm\");","map":{"version":3,"sources":["/Users/shellygupta/Desktop/Algorithms/Group/client/src/components/LoginForm.js"],"names":["React","useState","Avatar","Button","CssBaseline","TextField","LockOutlinedIcon","Typography","makeStyles","Container","useHistory","axios","useStyles","theme","root","height","backgroundColor","margin","opacity","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","palette","secondary","main","form","width","submit","color","LoginForm","props","classes","username","setUsername","password","setPassword","err","setErr","passErr","setPassErr","history","handleSubmit","e","preventDefault","postData","post","withCredentials","then","response","localStorage","setItem","data","_id","push","window","location","reload","catch","error","status","message","console","log","target","value"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useHistory } from 'react-router-dom'\nimport axios from \"axios\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: \"70vh\",\n    backgroundColor: \"white\",\n    margin: '20px auto',\n    opacity: \"0.6\"\n  },\n\n  paper: {\n    marginTop: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n\n  avatar: {\n    margin: theme.spacing(2),\n    backgroundColor: theme.palette.secondary.main\n  },\n\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(3)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    backgroundColor: \"black\",\n    color: \"white\",\n    '&:hover': {\n      backgroundColor: '#a01217',\n      color: 'black',\n  },\n  }\n}));\n\nfunction LoginForm(props) {\n  const classes = useStyles();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [err, setErr] = useState(\"\");\n  const [passErr, setPassErr] = useState(\"\");\n  let history = useHistory()\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setErr(\"\");\n    const postData = { username, password };\n    axios\n      .post(\"http://localhost:8000/api/users/login\", postData, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        localStorage.setItem(\"userName\", response.data.username);\n        localStorage.setItem(\"userId\", response.data._id);\n        history.push('/main')\n        window.location.reload();\n      })\n      .catch((error) => {\n        if(error.response.status === 402) {\n          setErr(error.response.data.message)\n          setPassErr(\"\")\n        }\n        else if(error.response.status === 403)  {\n          setPassErr(error.response.data.message)\n          setErr(\"\")\n        }\n        console.log(error.response);\n      });\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\" className={classes.root}>\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"User Name\"\n            name=\"username\"\n            autoComplete=\"username\"\n            onChange={(e) => setUsername(e.target.value)}\n            error={err ? true : false}\n            helperText={err}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n            onChange={(e) => setPassword(e.target.value)}\n            error={passErr ? true : false}\n            helperText={passErr}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n            onClick={handleSubmit}\n          >\n            Sign In\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}