{"ast":null,"code":"import _slicedToArray from\"/Users/shellygupta/Desktop/Algorithms/Group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/shellygupta/Desktop/Algorithms/Group/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React,{useEffect,useState}from'react';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell,{tableCellClasses}from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableHead from'@mui/material/TableHead';import TableRow from'@mui/material/TableRow';import Paper from'@mui/material/Paper';import{styled}from'@mui/material/styles';import axios from'axios';import CreateIcon from'@material-ui/icons/Create';import DeleteForeverIcon from'@material-ui/icons/DeleteForever';import\"../views/AddFood/styles.css\";import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StyledTableCell=styled(TableCell)(function(_ref){var _ref2;var theme=_ref.theme;return _ref2={},_defineProperty(_ref2,\"&.\".concat(tableCellClasses.head),{backgroundColor:theme.palette.common.black,color:theme.palette.common.white}),_defineProperty(_ref2,\"&.\".concat(tableCellClasses.body),{fontSize:14}),_ref2;});var StyledTableRow=styled(TableRow)(function(_ref3){var theme=_ref3.theme;return{'&:nth-of-type(odd)':{backgroundColor:\"#d09c9e\"},// hide last border\n'&:last-child td, &:last-child th':{border:0}};});export default function DisplayFood(props){var userId=localStorage.getItem(\"userId\");var _useState=useState([]),_useState2=_slicedToArray(_useState,2),displayFoodList=_useState2[0],setFoodList=_useState2[1];var dummy=props.dummy;var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),userData=_useState4[0],setUserData=_useState4[1];var history=useHistory();useEffect(function(){axios.get('http://localhost:8000/api/foods/findAll',{withCredentials:true}).then(function(response){setFoodList(response.data);console.log(\"data\",response.data);}).catch(function(error){return console.log(error);});axios.get(\"http://localhost:8000/api/users/getOne\",{withCredentials:true}).then(function(response){setUserData(response.data);}).catch(function(error){return console.log(\"error\",error.response);});},[userId,dummy]);var handleDelete=function handleDelete(food){axios.delete(\"http://localhost:8000/api/foods/delete/\"+food._id,{withCredentials:true}).then(function(response){console.log(\"delete\",response.data);props.setDummy(!dummy);}).catch(function(err){console.log(err);});};var handleEdit=function handleEdit(food){props.setIsEdit(true);props.setEditFood(food);};var addToMeal=function addToMeal(food,mealType){console.log(food._id);axios.put(\"http://localhost:8000/api/user/addtomeal/\"+food._id+\"/\"+mealType,userData,{withCredentials:true}).then(function(res){console.log(res.data);history.push('/');window.location.reload();}).catch(function(err){console.log(err.response.data);});};return/*#__PURE__*/_jsx(TableContainer,{component:Paper,style:{margin:\"30px auto\",width:\"60%\"},children:/*#__PURE__*/_jsxs(Table,{\"aria-label\":\"simple table\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(StyledTableCell,{children:\"Food Name\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Fat\\xA0(g)\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Protein\\xA0(g)\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Carbs\\xA0(g)\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"center\",children:\"Add\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Edit\"}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:\"Delete\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:displayFoodList.length<=0?/*#__PURE__*/_jsx(TableCell,{colSpan:6,style:{textAlign:\"center\",fontSize:\"1rem\"},children:\" You Have not added meal yet\"}):displayFoodList.map(function(food,index){return/*#__PURE__*/_jsxs(StyledTableRow,{sx:{'&:last-child td, &:last-child th':{border:0}},children:[/*#__PURE__*/_jsx(StyledTableCell,{component:\"th\",scope:\"row\",children:food.name}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:food.fat}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:food.protein}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:food.carb}),/*#__PURE__*/_jsxs(StyledTableCell,{align:\"right\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button-class\",onClick:function onClick(){return addToMeal(food,\"breakfast\");},children:\"Breakfast\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-class\",onClick:function onClick(){return addToMeal(food,\"lunch\");},children:\"Lunch\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button-class\",onClick:function onClick(){return addToMeal(food,\"dinner\");},children:\"Dinner\"})]}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:/*#__PURE__*/_jsx(CreateIcon,{className:\"icons\",id:\"editHover\",style:{marginLeft:\"20px\"},onClick:function onClick(){return handleEdit(food);}})}),/*#__PURE__*/_jsx(StyledTableCell,{align:\"right\",children:/*#__PURE__*/_jsx(DeleteForeverIcon,{className:\"icons\",id:\"deleteHover\",onClick:function onClick(){return handleDelete(food);}})})]},index);})})]})});}","map":{"version":3,"sources":["/Users/shellygupta/Desktop/Algorithms/Group/client/src/components/DisplayFood.js"],"names":["React","useEffect","useState","Table","TableBody","TableCell","tableCellClasses","TableContainer","TableHead","TableRow","Paper","styled","axios","CreateIcon","DeleteForeverIcon","useHistory","StyledTableCell","theme","head","backgroundColor","palette","common","black","color","white","body","fontSize","StyledTableRow","border","DisplayFood","props","userId","localStorage","getItem","displayFoodList","setFoodList","dummy","userData","setUserData","history","get","withCredentials","then","response","data","console","log","catch","error","handleDelete","food","delete","_id","setDummy","err","handleEdit","setIsEdit","setEditFood","addToMeal","mealType","put","res","push","window","location","reload","margin","width","length","textAlign","map","index","name","fat","protein","carb","marginLeft"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell, { tableCellClasses } from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { styled } from '@mui/material/styles';\nimport axios from 'axios';\nimport CreateIcon from '@material-ui/icons/Create';\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever';\nimport \"../views/AddFood/styles.css\"\nimport { useHistory } from 'react-router-dom'\n\nconst StyledTableCell = styled(TableCell)(({ theme }) => ({\n  [`&.${tableCellClasses.head}`]: {\n    backgroundColor: theme.palette.common.black,\n    color: theme.palette.common.white,\n  },\n  [`&.${tableCellClasses.body}`]: {\n    fontSize: 14,\n  },\n}));\n\nconst StyledTableRow = styled(TableRow)(({ theme }) => ({\n  '&:nth-of-type(odd)': {\n    backgroundColor: \"#d09c9e\",\n  },\n  // hide last border\n  '&:last-child td, &:last-child th': {\n    border: 0,\n  },\n}));\n\nexport default function DisplayFood(props) {\n  const userId = localStorage.getItem(\"userId\")\n  const [displayFoodList, setFoodList] = useState([])\n  const { dummy } = props\n  const [userData, setUserData] = useState({});\n  let history = useHistory()\n\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/foods/findAll', {\n      withCredentials: true\n    })\n      .then(response => {\n        setFoodList(response.data)\n        console.log(\"data\", response.data);\n      })\n      .catch(error => console.log(error))\n\n      axios.get(\"http://localhost:8000/api/users/getOne\", {\n        withCredentials: true,\n      })\n      .then((response) => {\n        setUserData(response.data);\n      })\n      .catch((error) => console.log(\"error\", error.response));\n  }, [userId, dummy])\n\n  const handleDelete = (food) => {\n    axios\n      .delete(\"http://localhost:8000/api/foods/delete/\" + food._id, {\n        withCredentials: true,\n      })\n      .then((response) => {\n        console.log(\"delete\", response.data);\n        props.setDummy(!dummy);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  const handleEdit = (food) => {\n    props.setIsEdit(true)\n    props.setEditFood(food)\n  }\n\n  const addToMeal = (food, mealType) => {\n    console.log(food._id);\n    axios\n      .put(\n        \"http://localhost:8000/api/user/addtomeal/\" + food._id + \"/\" + mealType,\n        userData,\n        { withCredentials: true }\n      )\n      .then((res) => {\n        console.log(res.data);\n        history.push('/')\n        window.location.reload()\n      }).catch(err => {\n        console.log(err.response.data);\n      });\n  };\n\n  return (\n    <TableContainer component={Paper} style={{ margin:\"30px auto\", width: \"60%\"}}>\n      <Table  aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>Food Name</StyledTableCell>\n            <StyledTableCell align=\"right\">Fat&nbsp;(g)</StyledTableCell>\n            <StyledTableCell align=\"right\">Protein&nbsp;(g)</StyledTableCell>\n            <StyledTableCell align=\"right\">Carbs&nbsp;(g)</StyledTableCell>\n            <StyledTableCell align=\"center\">Add</StyledTableCell>\n            <StyledTableCell align=\"right\">Edit</StyledTableCell>\n            <StyledTableCell align=\"right\">Delete</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {displayFoodList.length <= 0 ?\n          <TableCell colSpan={6} style={{textAlign:\"center\", fontSize:\"1rem\"}}> You Have not added meal yet</TableCell>\n          :\n          displayFoodList.map((food, index) => (\n            <StyledTableRow\n              key={index}\n              sx={{ '&:last-child td, &:last-child th': { border: 0 } }}\n            >\n              <StyledTableCell component=\"th\" scope=\"row\">\n                {food.name}\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">{food.fat}</StyledTableCell>\n              <StyledTableCell align=\"right\">{food.protein}</StyledTableCell>\n              <StyledTableCell align=\"right\">{food.carb}</StyledTableCell>\n              <StyledTableCell align=\"right\" >\n              <button className=\"button-class\" onClick={() => addToMeal(food, \"breakfast\")}>Breakfast</button>\n              <button className=\"button-class\" onClick={() => addToMeal(food, \"lunch\")}>Lunch</button>\n              <button className=\"button-class\" onClick={() => addToMeal(food, \"dinner\")}>Dinner</button>\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">\n                <CreateIcon className=\"icons\" id=\"editHover\" style={{ marginLeft: \"20px\" }} onClick={() => handleEdit(food)} />\n              </StyledTableCell>\n              <StyledTableCell align=\"right\">\n                <DeleteForeverIcon className=\"icons\" id=\"deleteHover\" onClick={() => handleDelete(food)} />\n              </StyledTableCell>\n            </StyledTableRow>\n          ))\n        }\n          \n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}